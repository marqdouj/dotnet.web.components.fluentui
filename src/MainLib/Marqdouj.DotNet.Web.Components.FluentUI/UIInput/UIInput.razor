<FluentStack Orientation="@options.Orientation"
             HorizontalAlignment="@options.HorizontalAlignment"
             HorizontalGap="@options.HorizontalGap" 
             VerticalGap="@options.VerticalGap" 
             VerticalAlignment="@options.VerticalAlignment">
    @if (options.ShowLabel)
    {
        <FluentLabel Style="@labelStyle">
            @Model.NameDisplay
            @if (options.ShowTooltip && Model.HasDescription)
            {
                var cssId = Guid.Empty.ToCssId();

                <FluentIcon Id="@cssId" Value="@options.Icon" Style="@iconStyle" />
                <FluentTooltip Anchor="@cssId"
                               Delay="@options.TooltipOptions?.Delay"
                               MaxWidth="@options.TooltipOptions?.MaxWidth"
                               Position="options.TooltipOptions?.Position">
                    @Model.Description
                </FluentTooltip>
            }
        </FluentLabel>
    }

    @ChildContent
</FluentStack>

@code {
    private UIInputOptions options = new();
    private string labelStyle => $"margin-right:{@options.HorizontalGap ?? 3}px;";
    private string iconStyle => $"margin-left:{@options.HorizontalGap ?? 3}px;white-space: nowrap;";

    [Parameter, EditorRequired]
    public RenderFragment ChildContent { get; set; }

    [Parameter, EditorRequired]
    public IUIModelValue Model { get; set; }

    [Parameter]
    public UIInputOptions? Options { get; set; }

    protected override void OnParametersSet()
    {
        options = Options ?? new();
    }
}